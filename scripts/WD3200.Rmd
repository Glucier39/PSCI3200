Geddy Lucier
Working Document 3200 


Preamble
```{r}
library(haven)
library(tidyverse)
library(readr)


book <- read.csv("https://raw.githubusercontent.com/Glucier39/PSCI3200/refs/heads/main/data/how_china_lends_dataset_version_1_0__test/CLA-Database-Raw-Data-Public-2024-FIN.csv?token=GHSAT0AAAAAADAAVNNKMH3JPXPZU4KME6ZMZ7MN4TA") # China Loan Data

 # V_Dem_CY_Full_Others_v14 <- read_csv("Documents/PSCI3200/data/how_china_lends_dataset_version_1_0__test/V-Dem-CY-FullOthers-v14_csv_YyKfizl/V-Dem-CY-Full+Others-v14.csv")
 # 
Vdem <- read_csv("https://raw.githubusercontent.com/Glucier39/PSCI3200/refs/heads/main/data/V_Demclean.csv?token=GHSAT0AAAAAADAAVNNLDACV26L2EH47ARICZ7MOBQQ")

```


Cleaning Vdem to shrink file size - ignore 
```{r}
# 
# vdem_clean <- vdem_raw %>% dplyr::select(country_name, country_text_id, year, v2x_corr, v2x_execorr, v2x_pubcorr)
# 
# write_csv(vdem_clean, file = "~/Documents/PSCI3200/data/V_Demclean.csv")

```

Cleaning Loan Data
```{r}

unique(loans$Country) # "Africa" 
unique(oil_vdem$country_name) # "Democratic Republic of the Congo" "Republic of the Congo"    
loans <- book %>% 
   filter(Country %in% c("Algeria", "Angola", "Cameroon", "Chad", "Congo", 
                            "Congo", "Egypt", "Equatorial Guinea", "Congo, Democratic Republic of the", "Congo, Republic of the",
                            "Gabon", "Ghana", "Mauritania", "Nigeria",
                            "South Sudan", "Sudan", "Tunisia", "Uganda")) %>% # filter for Africa  
  mutate(Country = case_when(
    Country == "Congo, Democratic Republic of the" ~ "DRC",
    Country ==  "Congo, Republic of the" ~ "RC",
    .default = Country
  ))
  
  
oil_vdem <- Vdem %>%
  filter(country_name %in% c("Algeria", "Angola", "Cameroon", "Chad", "Congo", 
                            "Congo", "Egypt", "Equatorial Guinea", "Democratic Republic of the Congo", "Republic of the Congo", 
                            "Gabon", "Ghana",  "Mauritania", "Nigeria",
                            "South Sudan", "Sudan", "Tunisia", "Uganda")) %>%
  mutate(country_name = case_when(
    country_name == "Democratic Republic of the Congo" ~ "DRC",
    country_name ==  "Republic of the Congo" ~ "RC",
    .default = country_name
  ))

setdiff(oil_vdem$country_name, loans$Country) # check to see if there's still any differences between the country names

comb <- left_join(loans, oil_vdem, by =join_by(Country == country_name, Year == year)) # check later 
  
colnames(comb)
```


OLS
```{r}
linear <- summary(lm(v2x_corr ~ Loan..USD.M.,data = comb))


```

